<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <title>login</title>
    <style>   /* Toast 메시지 상단 가운데로 위치하기 */
      .toast-container {
            position: fixed;
            top: 20px; /* 상단에서 20px 떨어짐 */
            left: 50%; /* 가로 중앙 정렬 */
            transform: translateX(-50%); /* 가로 중앙 정렬을 정확히 하기 위해 사용 */
            z-index: 1055; /* 다른 요소 위에 표시되도록 설정 */
        }
    </style>
</head>

<body>
    <div class="container mt-4">
        <form action="/member/login" method="POST">
          <fieldset>
            <legend>로그인</legend>
            <div class="mb-3">
              <label for="id" class="form-label">아이디</label>
              <input type="text" id="id" class="form-control" name="id">
            </div>
            <div class="mb-3">
              <label for="pw" class="form-label">비밀번호</label>
              <input type="password" id="pw" class="form-control" name="pw">
            </div>
            <button type="submit" class="btn btn-outline-dark">로그인</button>
            <a href="/member/register" class="btn btn-outline-success">아이디가 없나요?</a>
          </fieldset>
      </form>
    </div>

    <!-- Toast 메시지 HTML -->
    <div class="toast-container">
      <div id="loginToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
          <div class="toast-header">
              <strong class="me-auto">Login Error</strong>
              <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
          </div>
          <div class="toast-body">
              <!-- 오류 메시지가 여기에 표시, member.js에서 변경 가능 -->
          </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script>
      // URL에서 오류 메시지 가져오기
      const params = new URLSearchParams(window.location.search);
      const errorMessage = params.get('error');

      if (errorMessage) {
          // 오류 메시지가 있을 경우 Toast 메시지 표시
          const toastElement = document.getElementById('loginToast');
          const toastBody = toastElement.querySelector('.toast-body');
          toastBody.textContent = decodeURIComponent(errorMessage); // 오류 메시지 설정
          const toast = new bootstrap.Toast(toastElement);
          toast.show();
      }
    </script>


</body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous">
</script>

<script>

</script>
</html>